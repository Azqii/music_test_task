# Тестовое задание с каталогом исполнителей, их альбомами и песнями.

## Инструкция по конфигурации и запуску проекта:

1. Переконфигурировать (при необходимости) файл **.env**
2. Развернуть сервисы в докере командой `docker-compuse up -d`
3. Создать суперюзера командой `docker exec music_app python3 manage.py createsuperuser --noinput`

После выполненных действий сайт будет доступен по порту, указанном в переменной окружения **NGINX_PORT**
(по умолчанию: 80)

## Стек:

- python 3.10
- Django Rest Framework 3.14.0
- PostgreSQL

## Описание:

Админ-панель находится на странице **/admin/**. Данные для входа под суперюзером
задаются в переменных окружения **DJANGO_SUPERUSER_USERNAME**, **DJANGO_SUPERUSER_EMAIL**
и **DJANGO_SUPERUSER_PASSWORD** (по-умолчанию: имя пользователя **admin**, пароль **admin**)

Документация API (swagger) находится на странице **/api/docs/**

Аутентификация двух типов:

1. Основанная на сессиях (для авторизации суперюзеров, залогинившихся на странице **/admin/**)
2. С применением JWT-токена (для всех остальных)

Доступ к эндпоинтам:

1. На чтение: **Все**
2. На добавление записей: **Только аутентифицированные пользователи**
3. На редактирование/удаление записей: **Только админы и авторы сущностей**

Диаграммы таблиц базы данных: **https://imgur.com/a/RnIiHJ9**

PS: Чтобы не писать идентичный код в каждом приложении и для демонстрации возможностей DRF было
принято решение писать схожий функционал немного по-разному:

1. В Django-приложении **songs** контроллер(view) реализован в виде ViewSet'а, а маршруты прописаны
с помощью роутеров(**rest_framework.routers**). Считаю этот вариант лучшим в данном случае.
2. В приложении **performers** контроллер тоже реализован как ViewSet, а маршруты прописаны отдельно,
с помощью функций **path**
3. В приложении albums контроллеры для эндпоинтов CRUD-операций с объектами класса **Album** 
реализованы с помощью **rest_framework.generics**. Для объектов класса **AlbumSong** и соответствующих
им записям в базе данных хотел использовать **rest_framework.mixins** или написать функционал самому,
унаследовав контроллер (View) от **rest_framework.views.APIView**, но решил, что это перебор и реализовал
с помощью ViewSets.


## Возможные доработки:
1. Добавить страницу регистрации, сброса/смены пароля и т.д. (сейчас только через админ-панель)
2. Реализовать Frontend
3. Реализовать отправку почты (подтверждение емейла, оповещения админу и т.д.)